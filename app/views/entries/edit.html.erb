<% provide(:title, 'Badger - Edit entry') %>

<%= bootstrap_form_for(@entry, method: :patch, :html => { :class => 'form-horizontal', :multipart => true }, style: :horizontal, left: "col-sm-2", right: "col-sm-6", help: :block) do |f| %>
  <%= f.alert_message "Please fix the errors below." %>
  
  <legend>Edit entry</legend>

  <%= f.select :appliance_id, @appliance_names %>
  <%= f.text_field :brand %>
  <%= f.text_field :typenum %>
  <%= f.text_field :serialnum %>

  <%= f.text_field :defect, label: 'What\'s broken?' %>
  <%= f.text_field :repair, label: 'What\'s repaired?' %>
  <%= f.text_field :ordered, label: 'Parts ordered?' %>

  <%= f.text_field :testera, label: 'First tester' %>
  <%= f.text_field :testerb, label: 'Second tester' %>

  <%= f.form_group :test do %>
    <%= f.check_box :test, label: 'Test OK' %>
  <% end %>
  <%= f.form_group :repaired do %>
    <%= f.check_box :repaired, label: 'Repaired' %>
  <% end %>
  <%= f.form_group :ready do %>
    <%= f.check_box :ready, label: 'Ready' %>
  <% end %>
  <%= f.form_group :scrap do %>
    <%= f.check_box :scrap, label: 'Scrap' %>
  <% end %>
  <%= f.form_group :accessoires do %>
    <%= f.check_box :accessoires, label: 'Accessoires' %>
  <% end %>

  <%= f.select :class_id, @class_names %>

  <%= f.text_area :note %>

  <%= f.hidden_field :company, :value => session[:company] %>

  <p>First save the entry, then show it and there you can add images.</p>
 
  <%= f.form_group do %>
    <%= f.submit 'Update entry', data: { disable_with: 'Saving...' }, class: "btn btn-primary" %>
  <% end %>
<% end %>
 
<%= link_to 'Back', entries_path %>
